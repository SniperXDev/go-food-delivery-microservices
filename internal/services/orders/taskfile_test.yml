#https://taskfile.dev/#/installation

version: "3"


tasks:
  mock:
    desc: Generate interfaces mocks
    cmds:
      - docker run --rm -it -v $(pwd):/src -w /src vektra/mockery --dir services/catalogs_write --all --output mocks/services/catalogs_write
      - docker run --rm -it -v $(pwd):/src -w /src vektra/mockery --dir services/catalogs_read --all --output mocks/services/catalogs_read

  integration:
    desc: Run integration tests
    cmds:
      - go test -v -tags=integration ./...

  unit:
    desc: Run unit tests
    cmds:
      - go test -v -tags=unit ./...